<?xml version="1.0" encoding="utf-8" ?>
<ThingDefs>
  
  <!-- Buildings base -->
  <ThingDef Name="CarnBuilding" Abstract="True">
    <category>Building</category>
	<thingClass>Building</thingClass>
	<soundImpactDefault>BulletImpactWood</soundImpactDefault>
    <selectable>true</selectable>
    <drawerType>MapMeshAndRealTime</drawerType>
    <terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
    <repairEffect>Repair</repairEffect>
    <leaveResourcesWhenKilled>true</leaveResourcesWhenKilled>
    <filthLeaving>BuildingRubble</filthLeaving>
  </ThingDef>
  
  <!-- Tent base -->
  <ThingDef Name="CarnTent" ParentName="CarnBuilding" Abstract="True">
    <thingClass>Carnivale.Building_Tent</thingClass>
	
	<altitudeLayer>PawnUnused</altitudeLayer>
	<pathCost>0</pathCost>
	<passability>Standable</passability>
	
	<rotatable>true</rotatable>
	<hasInteractionCell>true</hasInteractionCell>
	
	<blockWind>true</blockWind>
	<holdsRoof>true</holdsRoof>
	
	<stuffCategories>
	  <li>Fabric</li>
	</stuffCategories>
	
	<damageMultipliers>
      <li>
        <damageDef>Bomb</damageDef>
        <multiplier>2</multiplier>
      </li>
    </damageMultipliers>
	
	<building>
	  <ignoreNeedsPower>true</ignoreNeedsPower>
	</building>
	
	<placeWorkers>
	  <li>Carnivale.PlaceWorker_Tent</li>
	</placeWorkers>
	
	<designationCategory>Structure</designationCategory>
  </ThingDef>
  
  
  <!-- Tent small -->
  <ThingDef ParentName="CarnTent" Name="TentSmall">
    <defName>Carn_TentSmall</defName>
	
	<label>carnival tent (small)</label>
	<description>A small carnival tent.</description>
	
	<graphicData>
	  <texPath>Carnivale/Building/Tent</texPath>
	  <graphicClass>Graphic_Multi</graphicClass>
	  <shaderType>CutoutComplex</shaderType>
	  <drawSize>(5.15,5.15)</drawSize>
	  <allowFlip>false</allowFlip>
	  
	  <shadowData>
        <volume>(0.25, 0.5, 0.25)</volume>
        <offset>(0,0,-0.1)</offset>
      </shadowData>
	  
	  <damageData>
	    <rect>(1,1,4,4)</rect>
	  </damageData>
	</graphicData>
	
	<size>(5,5)</size>
	<interactionCellOffset>(0,0,-3)</interactionCellOffset>
	
	<costStuffCount>150</costStuffCount>
	<costList>
	  <WoodLog>25</WoodLog>
	</costList>
	
	<statBases>
	  <MaxHitPoints>150</MaxHitPoints>
	  <Flammability>1.5</Flammability>
	  <WorkToBuild>2000</WorkToBuild>
	  <Mass>25</Mass> <!-- 5 * 5 -->
	  <Beauty>6</Beauty>
	</statBases>
	
	<comps>
	  <li Class="Carnivale.CompProperties_CarnBuilding">
	    <type>1</type>
	  </li>
	</comps>
	
  </ThingDef>
  
  
  <!-- Tent medium (beds) -->
  <ThingDef ParentName="CarnTent" Name="TentMedBeds">
    <defName>Carn_TentMedBeds</defName>
	
	<label>carnival lodging tent (medium)</label>
	<description>A medium tent with beds to accomodate sleeping.</description>
	
	<graphicData>
	  <texPath>Carnivale/Building/Tent</texPath>
	  <graphicClass>Graphic_Multi</graphicClass>
	  <shaderType>CutoutComplex</shaderType>
	  <drawSize>(7.15,7.15)</drawSize>
	  <allowFlip>false</allowFlip>
	  
	  <shadowData>
        <volume>(0.25, 0.5, 0.25)</volume>
        <offset>(0,0,-0.1)</offset>
      </shadowData>
	  
	  <damageData>
	    <rect>(0.1,0.1,4.9,4.9)</rect>
	  </damageData>
	</graphicData>
	
	<size>(7,7)</size>
	<interactionCellOffset>(0,0,-4)</interactionCellOffset>
	
	<costStuffCount>200</costStuffCount>
	<costList>
	  <WoodLog>50</WoodLog>
	</costList>
	
	<statBases>
	  <MaxHitPoints>250</MaxHitPoints>
	  <Flammability>1.5</Flammability>
	  <WorkToBuild>3900</WorkToBuild>
	  <Mass>49</Mass> <!-- 7 * 7 -->
	  <Beauty>6</Beauty>
	</statBases>
	
	<comps>
	  <li Class="Carnivale.CompProperties_CarnBuilding">
	    <type>5</type> <!-- Tent | Bedroom = 5 -->
		<interiorBuildingOffsets>
		  <li>(-2,0,2)</li>
		  <li>(0,0,2)</li>
		  <li>(2,0,2)</li>
		  <li>(-2,0,0)</li>
		  <li>(0,0,0)</li>
		  <li>(2,0,0)</li>
		</interiorBuildingOffsets>
	  </li>
	</comps>
	
  </ThingDef>
  
</ThingDefs>